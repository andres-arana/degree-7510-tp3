package modelo;

import java.util.ArrayList;
import java.util.Iterator;

public class VentasRepository {
	private ArrayList<IVenta> ventas;
	
	public VentasRepository() {
		ventas = new ArrayList<IVenta>();
	}
	public void add(IVenta venta) {
		ventas.add(venta);		
	}
	
	public ArrayList<IVenta> getVentasCaja(int nroCaja){
		
		ArrayList<IVenta> ventasDeLaCaja = new ArrayList<IVenta>();
				
		for (Iterator<IVenta> it = ventas.iterator();it.hasNext(); ) {
			IVenta venta = it.next(); 
			if(venta.getCajaNro() == nroCaja){
				ventasDeLaCaja.add(venta);	
			}
		}
		
		return ventasDeLaCaja;
	}
	
	public double calcularTotalCaja(int nroCaja){
		double total=0; 
		ArrayList<IVenta> ventasDeLaCaja = getVentasCaja(nroCaja);
		 
		for (Iterator<IVenta> it = ventasDeLaCaja.iterator();it.hasNext(); ) {
					
			total+= it.next().getTotal();
			
		}
		return total; 
	}
	
	public double calcularTotalDescuentosCaja(int nroCaja){
		double total=0; 
		ArrayList<IVenta> ventasDeLaCaja = getVentasCaja(nroCaja);
		 
		for (Iterator<IVenta> it = ventasDeLaCaja.iterator();it.hasNext(); ) {
					
			total+= it.next().getTotalDescuentos();
			
		}
		return total; 
	}
	
	
	public double calcularTotalMedioDePago(int nroCaja, String medioDePago){
		double total=0; 
		ArrayList<IVenta> ventasDeLaCaja = getVentasCaja(nroCaja);
		 
		for (Iterator<IVenta> it = ventasDeLaCaja.iterator();it.hasNext(); ) {
			IVenta venta = it.next();
			if(venta.getMedioDePago() == medioDePago){
				total+= venta.getTotal();				
			}
		}
		return total; 
		
	}
	
	public ArrayList<String> getMediosDePago(){
		ArrayList<String> mediosDePago = new ArrayList<String>();
		
		for (Iterator<IVenta> it = ventas.iterator();it.hasNext(); ) {
			IVenta venta = it.next();
			if(!mediosDePago.contains(venta.getMedioDePago())){
				mediosDePago.add(venta.getMedioDePago());
			}
		}
		
		return mediosDePago;
		
	}
}
